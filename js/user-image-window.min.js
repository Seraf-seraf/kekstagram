import{onCloseButton,onEscKeydown}from"./user-image-window-settings.min.js";import"./filter-slider.min.js";const body=document.body,uploadForm=document.querySelector(".img-upload__form"),uploadButton=document.querySelector("#upload-file"),userImagePreviewContainer=uploadForm.querySelector(".img-upload__overlay"),previewUserImage=userImagePreviewContainer.querySelector(".img-upload__preview img"),previewFilterElements=userImagePreviewContainer.querySelectorAll(".effects__preview"),closeButtonUserImg=userImagePreviewContainer.querySelector(".img-upload__cancel"),FILE_TYPES=["gif","jpg","jpeg","png"],scalePhotoBar=userImagePreviewContainer.querySelector(".img-upload__scale"),currentValueScale=userImagePreviewContainer.querySelector(".scale__control--value");function getSizePhoto(e){const r=e.target,o=parseInt(userImagePreviewContainer.querySelector(".scale__control--value").value,10);r.closest(".scale__control--smaller")&&o>25?(previewUserImage.style.transform=`scale(${(o-25)/100})`,currentValueScale.value=o-25+"%"):r.closest(".scale__control--bigger")&&o<100&&(previewUserImage.style.transform=`scale(${(o+25)/100})`,currentValueScale.value=`${o+25}%`)}uploadButton.addEventListener("change",(()=>{const e=uploadButton.files[0],r=e.name.toLowerCase();FILE_TYPES.some((e=>r.endsWith(e)))&&(previewUserImage.src=URL.createObjectURL(e)),previewFilterElements.forEach((r=>{r.style.backgroundImage=`url(${URL.createObjectURL(e)})`})),body.classList.add("modal-open"),userImagePreviewContainer.classList.remove("hidden"),document.addEventListener("keydown",onEscKeydown),closeButtonUserImg.addEventListener("click",onCloseButton),scalePhotoBar.addEventListener("click",getSizePhoto)}));export{userImagePreviewContainer,body,previewUserImage,uploadButton,uploadForm,scalePhotoBar,getSizePhoto};