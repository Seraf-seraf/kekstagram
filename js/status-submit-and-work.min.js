import{isEscapeKey}from"./util.min.js";const errorTemplate=document.querySelector("#error").content.querySelector(".error"),successTemplate=document.querySelector("#success").content.querySelector(".success"),createStatusWindow=(e,t,o)=>{const s=e.cloneNode(!0);t&&o&&(s.querySelector(".title").textContent=t,s.querySelector("button").textContent=o),document.body.insertAdjacentElement("beforeend",s),document.querySelector(".status-work button").addEventListener("click",onAsseptStatus),document.addEventListener("click",clickOutsideModalWindow),document.addEventListener("keydown",onEscKeydown)},getStatusError=()=>createStatusWindow(errorTemplate),getStatusSuccess=()=>createStatusWindow(successTemplate),getErrorWorkSite=()=>createStatusWindow(errorTemplate,"Ошибка загрузки сайта","Закрыть");function closeStatusWindow(){document.querySelector(".status-work button").removeEventListener("click",onAsseptStatus),document.removeEventListener("keydown",onEscKeydown),document.removeEventListener("click",clickOutsideModalWindow),document.querySelector(".status-work").remove()}function onAsseptStatus(e){e.target.closest("button")&&closeStatusWindow()}function onEscKeydown(e){isEscapeKey(e)&&closeStatusWindow()}function clickOutsideModalWindow(e){e.target.closest(".status-work > div")||closeStatusWindow()}export{getStatusError,getStatusSuccess,getErrorWorkSite};