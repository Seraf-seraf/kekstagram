import{commentsList,showBigPicture,loadMoreComments,commentsLoader,resetShownCommentsCount}from"./big-picture.min.js";import{isEscapeKey}from"./util.min.js";import{newInformation}from"./miniature.min.js";const body=document.body,photoList=document.querySelector(".pictures"),bigPictureWindow=document.querySelector(".big-picture"),buttonCloseBigPicture=bigPictureWindow.querySelector(".big-picture__cancel"),closeBigPicture=()=>{bigPictureWindow.classList.add("hidden"),body.classList.remove("modal-open"),document.removeEventListener("keydown",onEscKeydown),commentsLoader.removeEventListener("click",loadMoreComments),resetShownCommentsCount(),commentsList.textContent=""},onCloseButton=()=>{closeBigPicture()};function onEscKeydown(e){isEscapeKey(e)&&closeBigPicture()}buttonCloseBigPicture.addEventListener("click",onCloseButton);const onPhotoClick=(e,o,t)=>{e.preventDefault(),document.addEventListener("keydown",onEscKeydown);const n=Array.from(photoList.querySelectorAll(".picture")).indexOf(t);showBigPicture(t,o,n)};photoList.addEventListener("click",(e=>{const o=e.target.closest(".picture");o&&onPhotoClick(e,newInformation,o)}));export{bigPictureWindow};