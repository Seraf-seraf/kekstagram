import{userInformation}from"./backend.min.js";import{debounce}from"./util.min.js";const clearMiniatures=()=>{const e=document.querySelector(".pictures");for(;e.querySelector(".picture");)e.removeChild(e.querySelector(".picture"))},getMiniature=({url:e,likes:t,comments:i})=>{const r=document.querySelector(".pictures"),n=document.querySelector("#picture").content.cloneNode(!0),o=n.querySelector(".picture__img"),c=n.querySelector(".picture__likes"),s=n.querySelector(".picture__comments");o.src=e,c.textContent=t,s.textContent=i.length,r.appendChild(n),document.querySelector(".img-filters").classList.remove("img-filters--inactive")},defaultMiniaturesButton=document.querySelector("#filter-default"),randomMiniaturesButton=document.querySelector("#filter-random"),discussedMiniatureButton=document.querySelector("#filter-discussed");let newInformation=[];const DEBOUNCE_DELAY=500;discussedMiniatureButton.addEventListener("click",debounce((e=>{document.querySelector(".img-filters__button--active").classList.remove("img-filters__button--active"),e.target.classList.add("img-filters__button--active"),newInformation=userInformation.slice(0,25).sort(((e,t)=>t.comments.length-e.comments.length)),clearMiniatures(),newInformation.forEach(getMiniature)}),500)),defaultMiniaturesButton.addEventListener("click",debounce((e=>{document.querySelector(".img-filters__button--active").classList.remove("img-filters__button--active"),e.target.classList.add("img-filters__button--active"),newInformation=userInformation.slice(0,25),clearMiniatures(),newInformation.forEach(getMiniature)}),500)),randomMiniaturesButton.addEventListener("click",debounce((e=>{document.querySelector(".img-filters__button--active").classList.remove("img-filters__button--active"),e.target.classList.add("img-filters__button--active"),newInformation=userInformation.slice(0,10).sort((()=>.5-Math.random())),clearMiniatures(),newInformation.forEach(getMiniature)}),500));const setMiniatures=e=>{newInformation=userInformation.slice(0,25),e(newInformation)};export{getMiniature,newInformation,setMiniatures};